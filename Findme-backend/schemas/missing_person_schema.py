from marshmallow import Schema, fields, validate

class MissingPersonSchema(Schema):
    id = fields.Int(dump_only=True)
    full_name = fields.Str(required=True, validate=validate.Length(min=1, max=100))
    age = fields.Int(required=True, validate=validate.Range(min=0, max=120))
    gender = fields.Str(required=True, validate=validate.OneOf(["Male", "Female", "Other"]))
    height = fields.Str(validate=validate.Length(max=20))
    weight = fields.Str(validate=validate.Length(max=20))
    hair_color = fields.Str(validate=validate.Length(max=50))
    eye_color = fields.Str(validate=validate.Length(max=50))
    distinguishing_features = fields.Str()
    last_seen_date = fields.DateTime(required=True)
    last_seen_location = fields.Str(required=True, validate=validate.Length(min=1, max=200))
    last_seen_wearing = fields.Str()
    contact_name = fields.Str(required=True, validate=validate.Length(min=1, max=100))
    contact_phone = fields.Str(required=True, validate=validate.Length(min=1, max=20))
    contact_email = fields.Email()
    status = fields.Str(validate=validate.OneOf(["missing", "found", "closed"]), load_default="missing")
    case_number = fields.Str(required=True, validate=validate.Length(max=50))
    additional_info = fields.Str()
    photo_url = fields.Url()
    created_at = fields.DateTime(dump_only=True)
    updated_at = fields.DateTime(dump_only=True)
